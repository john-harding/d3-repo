<!DOCTYPE html>
<html>
<head>
    <title>D3 Learning</title>
    <script src='//d3js.org/d3.v4.min.js' charset='utf-8'></script>
    <style type='text/css'>
    .chart {

    }

    .chart__bar {
        fill: #0AF;
    }

    .chart__bar:hover {
        fill: #05B5FF;
    }
    </style>
</head>
<body>
    <svg id='chart'></svg>

    <script type='text/javascript'>
    // run server with: node_modules\.bin\http-server
    var data = [10, 15, 25, 12, 29, 18, 11, 9, 16, 50];
    var width = 900;
    var height = 900;
    var innerRadius = 150;
    var outerRadius = 250;
    var outerRadiusHover = 275;

    var previousPath = undefined;

    var canvas = d3.select('#chart')
        .attr('width', width)
        .attr('height', height);

    var color = d3.scaleLinear()
        .domain([0, Math.max.apply(null, data)])
        .range(["#ace", "#034"]);

    var colorLight = d3.scaleLinear()
        .domain([0, Math.max.apply(null, data)])
        .range(["#08e", "#0bf"]);

    var pie = d3.pie()
        .value(function (d) { return d });

    var path = d3.arc()
        .innerRadius(innerRadius)
        .outerRadius(outerRadius);

    var pathHover = d3.arc()
        .innerRadius(innerRadius)
        .outerRadius(outerRadiusHover);

    var group = canvas.append('g')
        .attr('transform', 'translate(' + (width/2) + ',' + (height/2) + ')');

    var arc = group.selectAll('.arc')
        .data(pie(data))
        .enter()
            .append('g')
            .attr('class', 'arc');

    arc.append('path')
        .attr('d', path)
        .attr('class', function (d, i) { return 'path-hover path-'+i; })
        .attr('fill', function (d, i) { return color(d.data); })
        .on('mouseover', function (d, i) {
            if(previousPath === this) { return; }
            d3.select(this)
                .transition()
                    .duration(100)
                    .attr('d', pathHover)
                    .attr('fill', function (d) { return colorLight(d.data); });

            if(previousPath !== undefined) {
                d3.select(previousPath)
                    .transition()
                        .duration(1000)
                        .attr('d', path)
                        .attr('fill', function (d, i) { return color(d.data); })
            }

            previousPath = this;
        });

    </script>
</body>
</html>